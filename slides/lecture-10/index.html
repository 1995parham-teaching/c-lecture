---
index: 10
title: Pointers & Dynamic Memory
topics:
- Introduction
- Pointers and Functions
- Pointers and Arrays
- Pointers and Strings
- Pointer to Pointer & Pointer to Function
- Dynamic memory allocation
---

<section>
  <div class="toc"></div>
</section>
<section>
  <div class="toc" data-selected="0"></div>
</section>
<section>
  <h2>Pointer: Reference to Memory</h2>
  <ul>
    <li>Pointer is a variable that</li>
    <ul>
      <li>Contains the <span class="orange-select">address</span> of another variable</li>
    </ul>
    <li>Pointer <span class="green-select">refers</span> to an address</li>
    <li>Examples</li>
    <pre><code class="hljs lang-c">
int i;
int *pi;
i = 20;
pi = &i;
    </code></pre>
  </ul>
</section>
<section>
  <h2>Pointer: Declaration and Initialization</h2>
  <ul>
    <li><span class="orange-select">&lt;type&gt;</span>* <span class="green-select">&lt;identifier&gt;</span>;</li>
    <li>Example</li>
    <pre><code class="hljs lang-c">
int i, *pi;
pi = &i;
float f;
float *pf = &f;
    </code></pre>
  </ul>
</section>
<section>
  <section>
    <h2>Value of referred memory by a pointer</h2>
    <pre><code class="hljs lang-c">
int *pi, *pj, i, j;
    </code></pre>
    <ul>
      <li><span class="orange-select">pi</span> variable contains the memory address</li>
      <ul>
        <li>If you assign a value to it: <span class="green-select">pi = &amp;i;</span></li>
        <ul>
          <li>The address is saved in <span class="cyan-select">pi</span></li>
        </ul>
        <li>If you read it: <span class="green-select">pj = pi;</span></li>
        <ul>
          <li>The address is copied from <span class="cyan-select">pi</span> from <span class="cyan-select">pj</span></li>
        </ul>
      </ul>
    </ul>
  </section>
  <section>
    <ul>
      <li><span class="orange-select">*pi</span> is the value of referred memory</li>
      <ul>
        <li>If you read it: <span class="green-select">j = *pi;</span></li>
        <ul>
          <li>The <span class="cyan-select">value in the referred address</span> is read from pi</li>
        </ul>
        <li>If you assign a value to it: <span class="green-select">*pj = i;</span></li>
        <ul>
          <li>The value is saved in the <span class="cyan-select">referred address</span></li>
        </ul>
      </ul>
    </ul>
  </section>
</section>
<section>
  <h2>Using Pointers: Example</h2>
  <pre><code class="hljs lang-c">
int i = 10, j;
/* address of i is 100, value of i is 10 */
/* address of j is 200, value of j is ?? */
int *pi;
/* address of pi is 300, value of pi is ?? */
pi = &amp;i;
/* address of pi is 300, value of pi is 100 */
j = *pi;
/* address of j is 200, value of j is 10 */
*pi = 20;
/* address of pi is 300, value of pi is 100 */
/* address of i is 100, value of i is 20 */
  </code></pre>
</section>
<section>
  <h2>Using Pointers: Example</h2>
  <pre><code class="hljs lang-c">
double d1, d2, *pda, *pdb; d1 = 10;
d2 = 20;
pda = &amp;d1;
pdb = &amp;d1;
*pda = 15;
d2 = d2 + *pdb;
printf("d2 = %f\n", d2); // d2 = 35.0
  </code></pre>
</section>
<section>
  <h2>Pointer: Reference to Memory</h2>
  <ul>
    <li>Pointer variable contains an address</li>
    <li>There is a special address</li>
    <ul>
      <li class="orange-select">NULL</li>
    </ul>
    <li>We can <span class="green-select">NOT</span></li>
    <ul>
      <li>Read any value from NULL</li>
      <li>Write any value to NULL</li>
    </ul>
    <li>If you try to read/write &rarr; Run time error</li>
    <li>NULL is usually used</li>
    <ul>
      <li>For pointer initialization</li>
      <li>Check some conditions</li>
    </ul>
  </ul>
</section>
<section>
  <div class="toc" data-selected="1"></div>
</section>
<section>
  <h2>Call by value</h2>
  <pre><code class="hljs lang-c">
void func(int y){
  y = 0;
}

void main(void){
  int x = 100;
  func(x);
  printf("%d", x); // 100 not 0
}
  </code></pre>
  <ul>
    <li>Call by value</li>
    <ul>
      <li>The <span class="orange-select">value</span> of the x is copied to y</li>
      <li>By changing y, x is <span class="green-select">not</span> changed</li>
    </ul>
  </ul>
</section>
<section>
  <h2>Call by reference</h2>
  <ul>
    <li>Call by reference</li>
    <ul>
      <li>The value of variable is <span class="red-select">not</span> copied to function</li>
      <li>If function changes the input parameter &rarr; the variable passed to the input is changed</li>
      <li>Is implemented by pointers in C</li>
    </ul>
  </ul>
  <pre><code class="hljs lang-c">
void func(int *y){
  *y = 0;
}
void main(void){
  int x = 100;
  func(&amp;x);
  printf("%d", x); // 0 ☺️
}
  </code></pre>
</section>
<section>
  <section>
    <h2>Pointers in Functions</h2>
    <pre><code class="hljs lang-c">
void add(double a, double b, double *res) {
  *res = a + b;
  return;
}

int main(void) {
  double d1 = 10.1, d2 = 20.2;
  double result = 0;
  add(d1, d2, &amp;result);
  printf("%f\n", result); // 30.3
  return 0;
}
    </code></pre>
  </section>
  <section>
    <h2>What happen?</h2>
    <ul>
      <pre><code class="hljs lang-c">double result = 0;</code></pre>
      <li>The address of result is 100, value of result is 0</li>
      <pre><code class="hljs lang-c">add(d1, d2, &amp;result);</code></pre>
      <li><span class="orange-select">Value</span> of d1, <span class="orange-select">Value</span> of d2 and the <span class="green-select">address</span> of result is <span class="green-select">copied</span> to add</li>
      <pre><code class="hljs lang-c">add(double a, double b, double *res)</code></pre>
      <li>Value of a is the value of d1, value of b is the value of d2 and value of <span class="orange-select">res is 100</span> and the <span class="green-select">value of *res is 0</span></li>
    </ul>
  </section>
  <section>
    <ul>
      <pre><code class="hljs lang-c">*res = a + b;</code></pre>
      <li>Value of a is added to b and output is saved in <span class="orange-select">the referred address by res (100)</span></li>
      <li>But the 100is the address of <span class="cyan-select">result</span>. Therefore the value is saved in memory location result</li>
    </ul>
  </section>
</section>
<section>
  <section>
    <h2>Swap function ❌</h2>
    <pre><code class="hljs lang-c">
void swap(double a, double b) {
  double temp;
  temp = a;
  a = b;
  b = temp;
  return;
}

int main(void){
  double d1 = 10.1, d2 = 20.2;
  printf("d1 = %lf, d2 = %lf\n", d1, d2); // d1 = 10.1, d2 = 20.2
  swap(d1, d2);
  printf("d1 = %lf, d2 = %lf\n", d1, d2); // d1 = 10.1, d2 = 20.2
  return 0;
}
    </code></pre>
  </section>
  <section>
    <h2>Swap function ✅</h2>
    <pre><code class="hljs lang-c">
void swap(double *a, double *b) {
  double temp;
  temp = *a;
  *a = *b;
  *b = temp;
  return;
}

void main(void) {
  double d1 = 10.1, d2 = 20.2;
  printf("d1 = %lf, d2 = %lf\n", d1, d2); // d1 = 10.1, d2 = 20.1
  swap(&amp;d1, &amp;d2);
  printf("d1 = %lf, d2 = %lf\n", d1, d2); // d1 = 20.2, d2 = 10.1
}
    </code></pre>
  </section>
</section>
<section>
  <h2>Pointer as the function output</h2>
  <ul>
    <li>Functions can return a pointer as output</li>
    <li>But, the address pointed by the pointer must be valid after the function finishes</li>
    <ul>
      <li>The pointed variable must be exist</li>
      <li>It must <span class="red-select">not</span> be <span class="orange-select">automatic local variable</span> of the function</li>
      <li>It can be static local variable, global variable, or the input parameter</li>
    </ul>
  </ul>
</section>
<section>
  <h2>Pointer as the function output</h2>
  <pre><code class="hljs lang-c">
int gi;

int *func_a(void) {
  return &gi;
}

float *func_b(void) {
  static float x;
  return &x;
}
  </code></pre>
</section>
<section>
  <div class="toc" data-selected="2"></div>
</section>
<section>
  <h2>Operations on Pointers</h2>
  <ul>
    <li>Arithmetic</li>
    <p>
      <span class="orange-select">&lt;pointer&gt;</span> - or + <span class="green-select">&lt;integer&gt;</span>
      (or <span class="orange-select">&lt;pointer&gt;</span> -= or += <span class="green-select">&lt;integer&gt;</span>)<br>
      <span class="orange-select">&lt;pointer&gt;</span> - <span class="orange-select">&lt;pointer&gt;</span> (they must be the same type)<br>
      <span class="orange-select">&lt;pointer&gt;</span>++ or <span class="orange-select">&lt;pointer&gt;</span>--
    </p>
    <li>Comparison between pointers</li>
    <pre><code class="hljs lang-c">
int arr[20];
int *pi, *pj, i;
pi = &amp;arr[10];
pj = &amp;arr[15];
i = pj - pi; // i = 5
i = pi - pj; // i=-5
if(pi &lt; pj) // if is True
if(pi == pj) // if is False
    </code></pre>
  </ul>
</section>
<section>
  <h2>Operations on Pointers Examples</h2>
  <pre><code class="hljs lang-c">
int *pi, *pj, *pk, i, j, k;
char *pa, *pb, *pc, a, b, c;
pi = &amp;i;
pj = pi + 2;
pk = pj + 2;
pa = &amp;a;
pb = pa + 2;

i = pj - pi; // i = 2
j = pb - pa; // j = 2
k = pk - pi; // k = 4

pi = pj + pk; // compile error: No + for 2 pointers
pc = pi; // compile error: Different types
i = pa – pi; // compile error: Different ptr types
  </code></pre>
</section>
<section>
  <h2>Array &amp; Pointers</h2>
  <ul>
    <li>Pointer can refer to each element in an array</li>
    <pre><code class="hljs lang-c">
int a[20];
int *pa;
pa = &amp;a[10]; //pa refers to element 10
a[11] = *pa; //value of pa is saved in element 11
    </code></pre>
    <li>The name of array is the pointer to the first element</li>
    <pre><code class="hljs lang-c">
pa = a; // pa refers to element 0
pa = &amp;a[0];// pa refers to element 0
    </code></pre>
  </ul>
</section>
<section>
  <h2>Array &amp; Pointers</h2>
  <pre><code class="hljs lang-c">
int a[50];
int *pa;
pa = a;
  </code></pre>
  <ul>
    <li>If address a = 100</li>
    <ul>
      <li>pa = 100</li>
    </ul>
    <li>pa+1 points to a[1]</li>
    <ul>
      <li>pa + 1 = 104</li>
    </ul>
    <li>pa + 2 points to a[2]</li>
    <ul>
      <li>pa + 2 = 108</li>
    </ul>
  </ul>
</section>
<section>
  <h2>Arrays & Pointers: Similarity</h2>
  <pre><code class="hljs lang-c">
int arr[20], *pi, j;

pi = &amp;arr[0]; // pi refers to array

pi = pi + 2; // pi refers to element 2

pi--; // pi refers to element 1

j = *(pi + 2); // value of element 3

/* arr is used as a pointer */
pi = arr + 2; // pi refers to element 2

/* pi is used as array */
j = pi[8]; // value of element 10
  </code></pre>
</section>
<section>
  <h2>Arrays & Pointers: Difference</h2>
  <ul>
    <li>We can change pointers</li>
    <ul>
      <li>Assign new value, arithmetic and ...</li>
    </ul>
    <li>We cannot change the array variable</li>
  </ul>
  <pre><code class="hljs lang-c">
int arr[20], arr2[20], *pi;
pi = arr;
pi++;
arr2 = pi; // Compile error
arr2 = arr; // Compile error
arr++; // Compile error
  </code></pre>
</section>
<section>
  <h2>Arrays in Functions</h2>
  <pre><code class="hljs lang-c">
int func1(int num[90]) {  }
int func2(int num[], int size){  }
int func3(int *num, int size) { }
  </code></pre>
</section>
<section>
  <section>
    <h2>A Function which Copies an Array into another</h2>
  </section>
  <section>
    <pre><code class="hljs lang-c">
void array_copy_wrong1(int a[], int b[]) {
  a = b;
}

int main() {
  int a[] = {1, 2, 3, 4};
  int b[4];

  array_copy_wrong1(b, a);

  for (int i = 0; i &lt; 4; i++) {
    printf("[%d] = %d\n", i, b[i]);
  }
}
    </code></pre>
  </section>
  <section>
    <pre><code>
[0] = 0
[1] = 0
[2] = 0
[3] = 0
    </code></pre>
  </section>
  <section>
    <pre><code class="hljs lang-c">
void array_copy_wrong2(int *a, int *b){
   a = b;
}

int main() {
  int a[] = {1, 2, 3, 4};
  int b[4];

  array_copy_wrong2(b, a);

  for (int i = 0; i &lt; 4; i++) {
    printf("[%d] = %d\n", i, b[i]);
  }
}
    </code></pre>
  </section>
  <section>
    <pre><code>
[0] = 0
[1] = 0
[2] = 0
[3] = 0
    </code></pre>
  </section>
  <section>
    <pre><code class="hljs lang-c">
void array_copy1(int dst[], int src[], int size){
  for(int i = 0; i &lt; size; i++)
       dst[i] = src[i];
}

int main() {
  int a[] = {1, 2, 3, 4};
  int b[4];

  array_copy1(b, a);

  for (int i = 0; i &lt; 4; i++) {
    printf("[%d] = %d\n", i, b[i]);
  }
}
    </code></pre>
  </section>
  <section>
    <pre><code>
[0] = 1
[1] = 2
[2] = 3
[3] = 4
    </code></pre>
  </section>
  <section>
    <pre><code class="hljs lang-c">
void array_copy2(int *dst, int *src, int size){
   for(int i = 0; i &lt; size; i++)
       dst[i] = src[i];
}

int main() {
  int a[] = {1, 2, 3, 4};
  int b[4];

  array_copy2(b, a);

  for (int i = 0; i &lt; 4; i++) {
    printf("[%d] = %d\n", i, b[i]);
  }
}
    </code></pre>
  </section>
  <section>
    <pre><code>
[0] = 1
[1] = 2
[2] = 3
[3] = 4
    </code></pre>
  </section>
  <section>
    <pre><code class="hljs lang-c">
void array_copy3(int *dst, int *src, int size){
   for(int i = 0; i &lt; size; i++)
       *(dst + i) = *(src + i);
}

int main() {
  int a[] = {1, 2, 3, 4};
  int b[4];

  array_copy3(b, a);

  for (int i = 0; i &lt; 4; i++) {
    printf("[%d] = %d\n", i, b[i]);
  }
}
    </code></pre>
  </section>
  <section>
    <pre><code>
[0] = 1
[1] = 2
[2] = 3
[3] = 4
    </code></pre>
  </section>
  <section>
    <pre><code class="hljs lang-c">
void array_copy4(int *dst, int *src, int size){
       for(int i = 0; i &lt; size; i++, src++, dst++)
           *dst = *src;
}

int main() {
  int a[] = {1, 2, 3, 4};
  int b[4];

  array_copy4(b, a);

  for (int i = 0; i &lt; 4; i++) {
    printf("[%d] = %d\n", i, b[i]);
  }
}
    </code></pre>
  </section>
  <section>
    <pre><code>
[0] = 1
[1] = 2
[2] = 3
[3] = 4
    </code></pre>
  </section>
</section>
<section>
  <section>
    <h2>A Function which Copies an Array into another</h2>
  </section>
  <section>
    <pre><code class="hljs lang-c">
int t1[10] = { 0 };
int t2[10] = { 0 };
int t3[10] = { 0 };
int t4[10] = { 0 };
int x[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };
    </code></pre>
  </section>
  <section>
    <ul>
      <li>array_copy1(t1, x, 10);</li>
      <pre><code class="hljs lang-c">
t1 = { 1 2 3 4 5 6 7 8 9 10 }
      </code></pre>
      <li>array_copy2(t2, x + 2, 8);</li>
      <pre><code class="hljs lang-c">
t2 = { 3 4 5 6 7 8 9 10 0 0 }
      </code></pre>
      <li>array_copy3(&amp;(t3[5]), x, 5);</li>
      <pre><code class="hljs lang-c">
t3 = { 0 0 0 0 0 1 2 3 4 5 }
      </code></pre>
      <li>array_copy4(t4 + 6, &amp;x[8], 2);</li>
      <pre><code class="hljs lang-c">
t4 = { 0 0 0 0 0 0 9 10 0 0 }
      </code></pre>
    </ul>
  </section>
</section>
<section>
  <h2>Difference between two sets</h2>
  <pre><code class="hljs lang-c">
#include &lt;stdio.h&gt;

int search(int *arr, int size, int num){
  int i;
  for(i = 0; i &lt; size; i++)
    if(arr[i] == num)
      return 1;
  return 0;
}

int sub_set(int *arr1, int size_arr1, int *arr2, int size_arr2, int *res){
  int i;
  int result_index = 0;
  for(i = 0; i &lt; size_arr1; i++) {
    if(search(arr2, size_arr2, arr1[i]) == 0) {
      res[result_index] = arr1[i];
      result_index++;
    }
  }
  return result_index;
}

void print_arr(int *arr, int size) {
  for(int i = 0; i &lt; size; i++)
    printf("%d ", arr[i]);
  printf("\n");
}

int main(void) {
  int a1[] = {1, 2, 3, 4, 5, 6};
  int a2[] = {4, 8, 6, 11};
  int res[100];
  int result_size;

  result_size = sub_set(a1, sizeof(a1) / sizeof(int), a2, sizeof(a2) / sizeof(int), res);

  if (result_size &gt; 0)
    print_arr(res, result_size);
  else
    printf("a1 - a2 = {}\n");
  return 0;
}
  </code></pre>
</section>
<section>
  <h2>Array of pointers</h2>
  <ul>
    <li>Pointer is a type in C</li>
    <ul>
      <li>We can define pointer variable</li>
      <li>We can define array of pointer</li>
    </ul>
  </ul>
  <pre><code class="hljs lang-c">
int i = 10, j = 20, k = 30;
int *arr_of_pointers[10];

arr_of_pointers[0] = &amp;i;
arr_of_pointers[1] = &amp;j;
arr_of_pointers[2] = &amp;k;

*arr_of_pointers[1] = *arr_of_pointers[2];

&rarr; i = 10, j = 30, k = 30
  </code></pre>
</section>
<section>
  <div class="toc" data-selected="3"></div>
</section>
<section>
  <h2>Legends</h2>
  <h6 class="fragment" data-fragment-index="1" style="color: #ff99ff;"></h6>
</section>
